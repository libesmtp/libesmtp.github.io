

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Reporting Bugs &mdash; libESMTP 1.0.6 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="Download" href="download.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> libESMTP
          

          
            
            <img src="_static/pillarbox.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="libesmtp.html">Benefits</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reporting Bugs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#github-issue-tracker">GitHub Issue Tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-to-report">What to Report</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#coding-errors">Coding Errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#missing-library-calls">Missing Library Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#broken-library-calls">Broken Library Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#library-calls-in-nonstandard-places">Library Calls in Nonstandard Places</a></li>
<li class="toctree-l3"><a class="reference internal" href="#smtp-protocol-errors">SMTP Protocol Errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obsolete-behaviour">Obsolete Behaviour</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#what-not-to-report">What Not to Report</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#can-t-connect-to-server">Can’t Connect to Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-headers-come-out-after-the-message">The headers come out after the message</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standards-compliance">Standards Compliance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#it-s-different-to">It’s Different to …</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Obsolete Behaviour</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fallback-behaviour">Fallback Behaviour</a></li>
<li class="toctree-l3"><a class="reference internal" href="#server-bugs">Server Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#behaviour-behind-a-firewall">Behaviour Behind a Firewall</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="rationale.html">Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="retrospective.html">Retrospective</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">libESMTP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Reporting Bugs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/bugreport.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="reporting-bugs">
<h1>Reporting Bugs<a class="headerlink" href="#reporting-bugs" title="Permalink to this headline">¶</a></h1>
<p>libESMTP will not be changed without good justification.  SMTP and mail related
documents in general have been subject to rigorous peer review in public by the
<a class="reference external" href="https://www.ietf.org/">IETF</a> before being accepted as standard.  Since mail is
possibly the most mission critical internet application of them all, it is
vital that the infrastructure is not compromised by buggy implementations.</p>
<p>These guidelines are intended to help distinguish features from genuine bugs.
In SMTP, as with many internet protocols, the distinction is subtle at times.
The following paragraphs are examples of what might constitute a bug.  The list
is by no means exhaustive.</p>
<div class="section" id="github-issue-tracker">
<h2>GitHub Issue Tracker<a class="headerlink" href="#github-issue-tracker" title="Permalink to this headline">¶</a></h2>
<p>All bug reports should be made using the GitHub issue tracker.  This is only
for discussion of libESMTP sources within, or for pull requests against the git
repository.  Issues opened solely against the libESMTP tarballs will be deleted
without explanation.</p>
</div>
<div class="section" id="what-to-report">
<h2>What to Report<a class="headerlink" href="#what-to-report" title="Permalink to this headline">¶</a></h2>
<p>If, after reading the following, you are convinced that libESMTP does not do
something it should, or vice-versa, get hold of the relevant RFC or other
standard and read the relevant parts.  Send a bug report which references the
standard and justify why libESMTP must change.  Usually I will not change
behaviour that conforms to normative requirements.  However, mistakes do occur
in standards so sometimes breaking conformance is unavoidable.</p>
<div class="section" id="coding-errors">
<h3>Coding Errors<a class="headerlink" href="#coding-errors" title="Permalink to this headline">¶</a></h3>
<p>If you spot a mistake in the code, such as failing to check the return value of
a function for an error condition, please report it.</p>
</div>
<div class="section" id="missing-library-calls">
<h3>Missing Library Calls<a class="headerlink" href="#missing-library-calls" title="Permalink to this headline">¶</a></h3>
<p>If libESMTP uses a C library function that is not provided by a platform then
the distribution should contain a replacement for that function and Meson
should detect that the replacement is needed.  If neither condition is true,
that is a bug.</p>
</div>
<div class="section" id="broken-library-calls">
<h3>Broken Library Calls<a class="headerlink" href="#broken-library-calls" title="Permalink to this headline">¶</a></h3>
<p>If libESMTP uses a C library function that is broken on a given platform then
the distribution should contain a replacement for that function and Meson
should detect that the replacement is needed.  If neither condition is true,
that is a bug.  A library call is considered broken if its behaviour differs
from that described in the appropriate publicly available standard.</p>
<p>Normally, the appropriate standard is Posix or the Single Unix Specification.
Remember that Unix man pages or other manufacturer specific documentation of C
library functions describe an implementation and do not constitute a standard.</p>
</div>
<div class="section" id="library-calls-in-nonstandard-places">
<h3>Library Calls in Nonstandard Places<a class="headerlink" href="#library-calls-in-nonstandard-places" title="Permalink to this headline">¶</a></h3>
<p>If Meson does not search all possible locations for a particular library call,
that is a bug.</p>
</div>
<div class="section" id="smtp-protocol-errors">
<h3>SMTP Protocol Errors<a class="headerlink" href="#smtp-protocol-errors" title="Permalink to this headline">¶</a></h3>
<p>If libESMTP sends SMTP protocol commands which differ from those described in
the appropriate RFCs, or fails to respond correctly to valid SMTP responses
from a server, that is a bug that should be reported.</p>
<p>SMTP is described in RFC 5321.  The message format is described in RFC 5322.
Various other RFCs describe the SMTP extension mechanism and specific SMTP
extensions.  References to the appropriate documents may be found in comments
within the source code.</p>
</div>
<div class="section" id="obsolete-behaviour">
<h3>Obsolete Behaviour<a class="headerlink" href="#obsolete-behaviour" title="Permalink to this headline">¶</a></h3>
<p>If libESMTP implements behaviour described in an obsoleted standard and the
replacement describes different behaviour, that is a bug in libESMTP.</p>
<p>Particular care is needed when referring to RFCs as these may be obsoleted or
updated at any time and the new document will have a new and unrelated number.
For example, do not refer to RFC 821 or RFC 1123 since these are obsoleted by
RFC 5321.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="what-not-to-report">
<h2>What Not to Report<a class="headerlink" href="#what-not-to-report" title="Permalink to this headline">¶</a></h2>
<p>Its amazing how often correct behaviour is reported as a bug.  Familiarise
yourself with the appropriate documentation.  Also read the <a class="reference internal" href="reference.html"><span class="doc">libESMTP
API</span></a> document.  Many people trip up on the subtleties of SMTP and
often the documents will answer your question saving your time and mine.</p>
<div class="section" id="can-t-connect-to-server">
<h3>Can’t Connect to Server<a class="headerlink" href="#can-t-connect-to-server" title="Permalink to this headline">¶</a></h3>
<p>Do not complain that libESMTP can’t connect to port 25.  The default port for
mail submission is 587.  This is a deliberate design choice and will not
change.  Refer to RFC 4409 for more information.</p>
</div>
<div class="section" id="the-headers-come-out-after-the-message">
<h3>The headers come out after the message<a class="headerlink" href="#the-headers-come-out-after-the-message" title="Permalink to this headline">¶</a></h3>
<p>You got the line endings wrong.  libESMTP strictly adheres to the RFC 5322
message format.  RFC 5322 requires that lines in a message are terminated with
the sequence CR-LF (0x0D 0x0A or \r\n).</p>
</div>
<div class="section" id="standards-compliance">
<h3>Standards Compliance<a class="headerlink" href="#standards-compliance" title="Permalink to this headline">¶</a></h3>
<p>Do not report behaviour that conforms to normative requirements in a standard
as a bug, even if you don’t like what happens or you find it inconvenient in
some way.</p>
</div>
<div class="section" id="it-s-different-to">
<h3>It’s Different to …<a class="headerlink" href="#it-s-different-to" title="Permalink to this headline">¶</a></h3>
<p>Do not assume that behaviour which differs from your favourite mail client is a
bug.  Just because Mozilla or Outlook or whatever might do something
differently does not necessarily mean they are correct and libESMTP is wrong.</p>
</div>
<div class="section" id="id1">
<h3>Obsolete Behaviour<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Do not report behaviour that differs from requirements in obsolete standards as
bugs.  For example, RFC 821 does not permit the syntax <code class="docutils literal notranslate"><span class="pre">MAIL</span> <span class="pre">FROM</span> <span class="pre">&lt;&gt;</span></code> but RFC
5321 does.</p>
</div>
<div class="section" id="fallback-behaviour">
<h3>Fallback Behaviour<a class="headerlink" href="#fallback-behaviour" title="Permalink to this headline">¶</a></h3>
<p>Do not report libESMTP’s default behaviour as a bug if an API call is
provided to change it.  Ever.</p>
</div>
<div class="section" id="server-bugs">
<h3>Server Bugs<a class="headerlink" href="#server-bugs" title="Permalink to this headline">¶</a></h3>
<p>Do not report bugs in SMTP servers or server misconfiguration as libESMTP bugs.</p>
<p>However, if a server is so broken that libESMTP requires a workaround to
operate with it at all I am interested in hearing about it.  A good example of
this sort of thing is the broken SMTP AUTH extension deployed by Yahoo!.  This
server uses a syntax described in an obsolete and unobtainable internet draft
and omits to implement the syntax described in the standard.  Fortunately, in
this case, the workaround is easy to implement and does not disrupt
interoperation with correctly implemented servers.</p>
</div>
<div class="section" id="behaviour-behind-a-firewall">
<h3>Behaviour Behind a Firewall<a class="headerlink" href="#behaviour-behind-a-firewall" title="Permalink to this headline">¶</a></h3>
<p>Don’t report libESMTP’s use of hostnames or IP addresses that are not visible
on the internet side of a firewall.  Don’t report that NAT makes these
unusable.</p>
<p>When a firewall is in use, especially one that does NAT, it is normal to submit
mail via a local MTA that knows how to translate and/or qualify domain names
and how to enforce site policy.  If the firewall permits access to port 25 on
the internet for hosts without publicly known hostnames and IP addresses, any
mail client will eventually encounter problems with some servers.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="download.html" class="btn btn-neutral float-left" title="Download" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Brian Stafford

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>