

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Changes since v1.0.6 &mdash; libESMTP 1.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="reference.html" />
    <link rel="prev" title="Download" href="download.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> libESMTP
          

          
            
            <img src="_static/pillarbox.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="libesmtp.html">Benefits</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changes since v1.0.6</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="bugreport.html">Reporting Bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="users.html">Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="essays.html">Essays</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Author</a></li>
<li class="toctree-l1"><a class="reference internal" href="oldfiles.html">Legacy Files</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/libesmtp/libESMTP/wiki">Wiki</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">libESMTP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Changes since v1.0.6</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="changes-since-v1-0-6">
<h1>Changes since v1.0.6<a class="headerlink" href="#changes-since-v1-0-6" title="Permalink to this headline">¶</a></h1>
<p>libESMTP v1.1.0 is an interim release, pending some roadmap items currently in
development. While libESMTP 1.0.6 has been stable for some time, bit-rot
inevitably occurs as the state-of-the-art and system conventions change over
time and therefore libESMTP must be updated.  It is hoped that these updates
will provide a more modern base for future development and improve the quality
of the associated documentation.</p>
<hr class="docutils" />
<p><a class="reference external" href="https://nvd.nist.gov/vuln/detail/CVE-2019-19977">CVE-2019-19977</a> is fixed.</p>
<p>A linker map is now used to ensure only libESMTP’s API symbols are made
publicly available.  This should prevent the possibility that a libESMTP
internal symbol collides with an application or other library.  Existing
interfaces and semantics are unchanged; existing applications should link
correctly with the new libESMTP binary, however applications which rely on
internal symbols will no longer link.</p>
<p>libESMTP is updated to use the current <a class="reference external" href="https://www.openssl.org/">OpenSSL</a> API.  Therefore OpenSSL
v1.1.0 or later is now required.</p>
<p>The GNU autotools build has been completely removed and replaced by <a class="reference external" href="https://mesonbuild.com/">Meson</a>.
Meson builds are easy to maintain and Meson is particularly effective when used
in conjunction with <a class="reference external" href="https://ninja-build.org/">Ninja</a> offering dramatically reduced build times.</p>
<p><a class="reference external" href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">Open Desktop XDG</a> conventions are now used when searching for files.
Currently this affects the name and location of X.509 certificate files.
This change should be transparent to applications, however users may need to
relocate client certificates.  A configuration option allows the legacy layout
to be selected at build time.</p>
<p>API documentation is migrated to <a class="reference external" href="https://www.kernel.org/doc/html/latest/doc-guide/kernel-doc.html">kernel-doc</a> style comments in source files
and Markdown files for non-API sections.  Because of this many of the changes
to source files look more drastic than they actually are, an impression
somewhat amplified by corrections or updates to RFC numbers to match current
standards.</p>
<p>The MTA’s canonic hostname is used to check certificate validity, this may
differ from the specified hostname if it references a CNAME record in the DNS.
The new ‘smtp_get_server_name()’ API may be used to retrieve this.</p>
<p>The ‘application data’ interface has been improved. The updated API accepts a
‘release’ callback argument which libESMTP will call when necessary.  This
relieves the application from releasing allocated resources and should
eliminate one class of potential memory leaks.</p>
<p>The ‘getaddrinfo()’ replacement implementation has been removed since that
interface is ubiquitous in modern C and resolver libraries and since the
replacement was never a complete implementation.</p>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>CVE-2019-19977: avoid potential stack overflow in NTLM authenticator.</p></li>
<li><p>Migrate build system to Meson</p></li>
<li><p>Remove GNU libltdl support, assume dlopen() always available.</p></li>
<li><p>Use a linker map to restrict public symbols to API only.</p></li>
<li><p>Add sentinel and ‘format printf’ attributes to function declarations.</p></li>
<li><p>Remove getaddrinfo() implementation.</p></li>
<li><p>Use strlcpy() for safer string copies, provide implementation for systems that need it.</p></li>
<li><p>Update ‘application data’ APIs</p></li>
<li><p>Add ‘smtp_get_server_name()’ API.</p></li>
<li><p>Collect replacement functions into missing.c</p></li>
<li><p>Prohibit Resent-Reply-To: header.</p></li>
<li><p>Use canonic domain name of MTA where known (e.g. due to CNAME record in DNS).</p></li>
<li><p>Implement rfc2822date() with strftime() if available.</p></li>
<li><p>add option for XDG file layout convention instead of ~/.authenticate</p></li>
<li><p>OpenSSL</p>
<ul>
<li><p>Remove support for OpenSSL versions before v1.1.0</p></li>
<li><p>Update OpenSSL API calls used for modern versions</p></li>
<li><p>Require TLS v1 or higher</p></li>
</ul>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="reference.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="download.html" class="btn btn-neutral float-left" title="Download" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Brian Stafford.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>